<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width,initial-scale=1" name="viewport" />
    <title>Generating RDF from Web Tabular Data</title>
    <script class="remove" src="http://www.w3.org/Tools/respec/respec-w3c-common">
	</script>
    <script class="remove">
var respecConfig = {
    // localBiblio: {
    //     "EBNF-NOTATION": "Tim Bray; Jean Paoli; C. M. Sperberg-McQueen; Eve Maler; Fran√ßois Yergeau. <a href=\"http://www.w3.org/TR/REC-xml/#sec-notation\"><cite>EBNF Notation</cite></a> 26 November 2008. W3C Recommendation. URL: <a href=\"http://www.w3.org/TR/REC-xml/#sec-notation\">http://www.w3.org/TR/REC-xml/#sec-notation</a>"
    // },
    specStatus: "ED",
    shortName: "csv2rdf",
    publishDate:  "2014-04-01",
    previousPublishDate: "2014-??-??",
    previousMaturity: "unoffical",
    //previousURI: "http://www.w3.org/TR/2014/WD-csv2rdf-2014????/",
    edDraftURI: "http://w3c.github.io/csvw/csv2rdf/",
    // lcEnd: "3000-01-01",
    // crEnd: "3000-01-01",
    editors:
     [{
       name: "Andy Seaborne"
       , company: "Apache Software Foundation"
       , companyURL: ""
    // }, { 
    //   name: "Gregg Kellogg", 
    //   url: "http://greggkellogg.net/",
    //   company: "Kellogg Associates", 
    //   companyURL: "http://kellogg-assoc.com/" 
    }],
    wg: "CSV on the Web Working Group",
    wgURI: "http://www.w3.org/2013/csvw/",
    wgPublicList: "public-csv-wg",
    wgPatentURI: "http://www.w3.org/2004/01/pp-impl/68238/status",
    otherLinks: [{
      key: "Repository",
      data: [{
          value: "We are on Github",
          href: "https://github.com/w3c/csv2rdf"
        }, {
          value: "File a bug",
          href: "https://github.com/w3c/csv2rdf"
        }]
      } , 
      {
        key: "Changes",
        data: [{
        //     value: "Diff to previous version",
        //     href: "diff-20140327.html"
        //   }, {}
           value: "Commit history",
           href: "https://github.com/w3c/csvw/commits/gh-pages"
         }]
       }] ,
    inlineCSS: true,
    noIDLIn: true,
    noLegacyStyle: false
    };
    </script>
    <style type="text/css">
      .grammar td { font-family: monospace; vertical-align: top; }
      .grammar-literal { color: gray;}
    </style>
  </head>
  <body>
    <section id="abstract">
      <p>
      <a href="http://www.w3.org/TR/tabular-data-model/"
      >Model for Tabular Data and Metadata on the Web</a>
      </p><p>
        Tabular data is routinely transferred on the web as "CSV".
      </p>
    </section>
    <section id="sotd">
      <p>
        Work-in-progress. 
      </p>
      <p>
      </p>
    </section>
    <section id="intro">
      <h2>Introduction</h2>
      <p>
      This document uses keywords from 
      <a href="https://tools.ietf.org/html/rfc2119">RFC2119</a>
      and
      <a href="https://tools.ietf.org/html/rfc6919">RFC6919</a>.
      </p>
      <p>
        <dfn title="tabular data">Tabular data</dfn> is data that is structured into rows, each of which contains information about some thing. Each row contains the same number of fields (although some of these fields may be empty), which provide values of properties of the thing described by the row. In tabular data, fields within the same column provide values for the same property of the thing described by the particular row. This is what differentiates tabular data from other line-oriented formats. 
      </p>
      <p>
		CSV RFC [[!RFC4180]] (to be revised).
      </p>

      <p>
        There are 2 different level of conversion, increasing levels of facilities:
      </p>

      <ul>
        <li>Column mapping - each column is a predicate or a key.  Each
          cell in a predicate column is converted to an RDF triples.  A key, if
          present, provides the subject of the triples for a row.
        </li>
        <li>?? Mapping</li>
        <li>CSV-LD for JSON-LD</li>
      </ul>
    </section>

    <section id="examples">
      <h2>Examples</h2>
        
      <section>
        <h3>Example 1</h3>
        <pre>GID,On Street,Species,Trim Cycle,Inventory Date
1,ADDISON AV,Celtis australis,Large Tree Routine Prune,10/18/2010
2,EMERSON ST,Liquidambar styraciflua,Large Tree Routine Prune,6/2/2010
3,EMERSON ST,Liquidambar styraciflua,Large Tree Routine Prune,6/2/2010
        </pre>
        <p>gives the following RDF (in Turtle) for the data rows.</p>
        <pre>
# Data rows
[ csv:row 2 ;
  :GID 1;
  :On%20Street "ADDISON AV";
  :Species "Celtis australis";
  :Trim%20Cycle "Large Tree Routine Prune";
  :Inventory%20Date "10/18/2010"
] .
[ csv:row 3 ;
  :GID 2;
  :On%20Street "EMERSON ST";
  :Species "Liquidambar styraciflua";
  :Trim%20Cycle "Large Tree Routine Prune";
  :Inventory%20Date "6/2/2010"
] .
[ csv:row 4 ;
  :GID 3;
  :On%20Street "EMERSON ST";
  :Species "Liquidambar styraciflua";
  :Trim%20Cycle "Large Tree Routine Prune";
  :Inventory%20Date "6/2/2010"
] .
    </pre>
        <p>In the full Column Mapping, metadata about the translation
            applied is also included.
        </p>
          
      </section>
    </section>

    <section id="column-mapping">
      <h2>Column Mapping</h2>

      <a href="https://www.w3.org/2013/csvw/wiki/CSV2RDF">CSV2RDF on the WG wiki</a>

      <p>In column mapping, each row of the input tabular data is
        translated to a number of triples, which with the same subject.
      </p>

      <p>In the absence of any column annotations for datatypes, cells will be
        inspected to guess one of the types:
      </p>
      <ul>
        <li>Numbers: integer, decimal or double</li>
        <li>Boolean</li>
      </ul>
      <p>otherwise the cell value is processed as a string.</p>

      <section>
        <h3>Annotation</h3>

        <p>Annotations may provide:</p>
        <ul>
          <li>Identify a column as a key, which together with a a URI
            template, generates the subject used for triples for each row.
          </li>
          <li>Predicate to use for each non-key column</li>
          <li>Datatypes for cells in the column. String that do not match the
          expected form of the datatype are left as strings.</li>
        </ul>

        <div class="issue">How far to go with generating URI - whole
          separate section?</div>

      </section>


      <section>
        <h3>Determining Column Processing</h3>
      </section>


      <section>
        <h3>Data Conversion</h3>
      </section>

    </section>

    <section> <!-- id = ?? -->
      <h2>Further Mapping</h2>
      <p>
        In this section, we describe mapping that goes beyond the 
        column mapping described above.  The RDF triples may not correspond
        simply to the rows of the input Annotated Tabular Data Model.
      </p>
      <div class="issue">Multi-table?</div>
    </section>

    <section id="csv-ld">
      <p>
        A further procedure mapping to JSON-LD.
      </p>
      
      <div class="issue">Better as a separate document?</div>
      
    </section>

  </body>
</html>

