<html lang="en">
  <head>
    <meta charset='utf-8'/>
    <title><%= ont["dc:title"]["en"] %></title>
    <script class="remove" src="http://www.w3.org/Tools/respec/respec-w3c-common"></script>
    <script class="remove">
var respecConfig = {
    localBiblio: {
      "tabular-data-model": {
          "authors": [
            "Jeni Tennison",
            "Gregg Kellogg"
          ],
          "title": "Model for Tabular Data and Metadata on the Web",
          "href" : "http://www.w3.org/TR/tabular-data-model/",
          "rawDate": "2015-01-08",
          "status" : "WD",
          "publisher": "W3C"
      },
      "tabular-metadata": {
          "authors": [
            "Rufus Pollock",
            "Jeni Tennison"
          ],
          "title": "Metadata Vocabulary for Tabular Data",
          "href" : "http://www.w3.org/TR/tabular-metadata/",
          "rawDate": "2015-01-08",
          "status" : "WD",
          "publisher": "W3C"
      },
      "csv2json": {
        "authors": [
          "Jeremy Tandy",
          "Ivan Herman"
        ],
        "title": "Generating JSON from Tabular Data on the Web",
        "href" : "http://www.w3.org/TR/csv2json/",
        "rawDate": "2015-01-08",
        "status" : "WD",
        "publisher": "W3C"
      },
      "csv2rdf": {
        "authors": [
          "Jeremy Tandy",
          "Ivan Herman"
        ],
        "title": "Generating RDF from Tabular Data on the Web",
        "href" : "http://www.w3.org/TR/csv2json/",
        "rawDate": "2015-01-08",
        "status" : "WD",
        "publisher": "W3C"
      },
      "UNICODE-BIDI" : {
        "authors" : [
          "Mark Davis",
          "Aharon Lanin",
          "Andrew Glass"
        ],
        "title": "TR9, Unicode Bidirectional Algorithm",
        "href": "http://unicode.org/reports/tr9/",
        "rawDate" : "2013-09-24",
        "publisher" : "Unicode Consortium",
        "status" : "Report"
      },
      "RFC6570" : {
          "authors" : [
            "J. Gregorio",
            "R. Fielding",
            "M. Hadley",
            "M. Nottingham",
            "D. Orchard"
          ],
          "title" : "URI Template",
          "rawDate" : "2002-01",
          "status": "Proposed Internet RFC",
          "publisher" : "IETF",
          "href" : "http://www.ietf.org/rfc/rfc6570.txt"
      },
      "json" : {
          "authors" : [
            "D. Crockford",
          ],
          "title" : "The application/json Media Type for JavaScript Object Notation (JSON)",
          "rawDate" : "2006-01",
          "status": "Informational RFC",
          "publisher" : "IETF",
          "href" : "http://www.ietf.org/rfc/rfc4627.txt"
      }, 
      "iso8601" : {
          "title" : "ISO 8601:2004 Representation of dates and times",
          "rawDate" : "2004",
          "status": "International Standard (IS)",
          "publisher" : "ISO (International Organization for Standardization)"
      }
    },
    specStatus: "ED",
    shortName: "csvwns",
    // publishDate:  "2014-04-01",
    edDraftURI: "http://w3c.github.io/csvw/ns/",
    // lcEnd: "3000-01-01",
    // crEnd: "3000-01-01",
    editors: [{
      name: "Gregg Kellogg",
      company: "Kellogg Associates",
      companyURL: "http://greggkellogg.net/"
    }],
    wg: "CSV on the Web Working Group",
    wgURI: "http://www.w3.org/2013/csvw/",
    wgPublicList: "public-csv-wg",
    wgPatentURI: "http://www.w3.org/2004/01/pp-impl/68238/status",
    alternateFormats: [
      {uri: "vocab.ttl", label: "Turtle"},
      {uri: "context.jsonld", label: "JSON-LD"}
    ],
    otherLinks: [{
      key: "Repository",
      data: [{
        value: "We are on Github",
        href: "https://github.com/w3c/csvw/"
      }, {
        value: "File a bug",
        href: "https://github.com/w3c/csvw/issues"
      }]
    }, {
      key: "Changes",
      data: [{
      //     value: "Diff to previous version",
      //     href: "diff-20140327.html"
      //   }, {
        value: "Commit history",
        href: "https://github.com/w3c/csvw/commits/gh-pages"
      }]
    }, {
      key: "Alternate Formats",
      data: [{
        value: "Turtle",
        href: "vocab.ttl"
      }, {
        value: "JSON-LD",
        href: "context.jsonld"
      }]
    }] ,
    inlineCSS: true,
    doRDFa: false,
    noIDLIn: true,
    issueBase: "https://github.com/w3c/csvw/issues/",
    noLegacyStyle: false
    };
    </script>
    <style type="text/css">
      dl.terms dt {
        float: left;
        clear: left;
        width: 17vw;
      }
      dl.terms dd:after {
          content: '';
          display: block;
          clear: both;
          margin-bottom: 5px;
      }
      table.rdfs-definition td {vertical-align: top;}
      .bold {font-weight: bold;}
    </style>
  </head>
  <body resource="http://www.w3.org/ns/csvw#" typeof="owl:Ontology" prefix "csvw: http://www.w3.org/ns/csvw#">
    <section id="abstract">
      <p>This document describes the
        <span property="dc:title"><%= ont["dc:title"]["en"] %></span>
        and Term definitions used
        for creating Metadata descriptions for Tabular Data. This document provides the RDFS [[RDF-SCHEMA]] vocabulary definition for terms defined
        in [[tabular-metadata]] and a description of the JSON-LD context definition for use with
        defining metadata documents.</p>
      <p>Alternate versions of the vocabulary definition exist in
        <a rel="alternate" href="vocab.ttl">Turtle</a> and
        <a rel="alternate" href="context.jsonls">JSON-LD</a>,
        which also includes the <code>@context</code> required for metadata descriptions.</p>
    </section>
    <section id="sotd">
      <p>The CSV on the Web Working Group was chartered to produce Recommendations 
        for "Access methods for CSV Metadata", "Metadata vocabulary for CSV data" [[tabular-metadata]] and 
        "Mapping mechanism to transforming CSV into various Formats (e.g., RDF [[csv2rdf]], JSON [[csv2json]], 
        or XML)".</p>
      <p>This document attemptes to define all terms used in [[tabular-metadata]], but may diverge until
        both documents become mroe stable.</p>
    </section>
    <section>
      <h2>Introduction</h2>
      <p property="dc:description"><%= ont["dc:description"]["en"] %></p>
      <p>This specification makes use of the following namespaces:</p>
      <dl class="terms">
        <dt><code>csvw</code>:</dt>
        <dd><code>http://www.w3.org/ns/csvw#</code></dd>
        <dt><code>rdf</code>:</dt>
        <dd><code>http://www.w3.org/1999/02/22-rdf-syntax-ns#</code></dd>
        <dt><code>rdfs</code>:</dt>
        <dd><code>http://www.w3.org/2000/01/rdf-schema#</code></dd>
        <dt><code>xsd</code>:</dt>
        <dd><code>http://www.w3.org/2001/XMLSchema#</code></dd>
        <dt><code>dc</code>:</dt>
        <dd><code>http://purl.org/dc/terms/</code></dd>
        <dt><code>dcat</code>:</dt>
        <dd><code>http://www.w3.org/ns/dcat#</code></dd>
        <dt><code>prov</code>:</dt>
        <dd><code>http://www.w3.org/ns/prov#</code></dd>
      </dl>
    </section>
    <%
      [{
        heading: "Class Definitions",
        key: "rdfs_classes"
      }, {
        heading: "Property Definitions",
        key: "rdfs_properties"
      }, {
        heading: "Datatype Definitions",
        key: "rdfs_datatypes"
      }, {
        heading: "Instance Definitions",
        key: "rdfs_instances"
      }].each do |sect|
    %>
    <section>
      <h2><%= sect[:heading] %></h2>
      <p>The following are <%= sect[:heading].downcase %> in the <code>csvw</code> namespace:</p>
      <table class="rdfs-definition">
        <% ont[sect[:key]].each do |defn| -%>
        <tr><td class="bold"><%= defn['@id'][5..-1] %></td>
          <td resource="<%= defn['@id'] %>" typeof="<%= Array(defn['@type']).join(" ") %>">
            <em property="rdfs:label"><%= defn['rdfs:label']['en'] %></em>
            <p property="rdfs:comment"><%= defn['rdfs:comment']['en'] %></p>
            <span property="rdfs:isDefinedBy" resource="csvw:"></span>
            <% if %w(rdfs:subClassOf rdfs:subPropertyOf rdfs:range rdfs:domain).any? { |p| defn.has_key?(p)} %>
              <dl class="terms">
                <% %w(rdfs:subClassOf rdfs:subPropertyOf rdfs:range rdfs:domain).each do |p| %>
                  <% if defn.has_key?(p) %>
                  <dt><%= p %></dt>
                  <% Array(defn[p]).each do |v| %>
                    <%if v.is_a?(Array) && v.first == 'owl:unionOf' %>
                      <dd property="<%= p %>" resource="_:">
                        Union of
                        <% v.last.each do |c| %>
                        <span property="owl:unionOf" inlist=true resource="<%= c %>"><%= c %></span>
                        <% end%>
                      </dd>
                    <% else %>
                      <dd property="<%= p %>" resource="<%= v %>"><%= v %></dd>
                    <% end %>
                  <% end %>
                  <% end %>
                <% end %>
              </dl>
            <% end %>
          </td>
        </tr>
        <% end -%>
      </table>
    </section>
    <% end%>
    <section>
      <h2>Term Definitions</h2>
      <dl class="terms">
        <% ont['@context'].keys.sort.each do |term|%>
        <% defn = ont['@context'][term] %>
        <dt><%= term %></dt>
        <dd>
          <% if defn.is_a?(String) %>
            <%= defn %>
          <% elsif defn['@id'] %>
            <%= defn['@id'] %>
          <% elsif defn['@reverse'] %>
            reverse of <%= defn['@reverse'] %>
          <% else %>
            <%= term %>
          <% end %>
          <% if defn.is_a?(Hash) && defn['@type'] %>
            with string values interpreted as <%= defn['@type'] %>
          <% end%>
          <% if defn.is_a?(Hash) && defn['@container'] %>
            with array values interpreted as <%= defn['@container'] %>
          <% end%>
        </dd>
        <% end %>
      </dl>
    </section>
  </body>
</html>
